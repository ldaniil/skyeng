Задание: Реализовать счетчик вызова скрипта. Было принято решение, хранить данные в файле.

<?php 

file_put_contents("./counter.txt", file_get_contents("./counter.txt") + 1);

Вопрос: Какие проблемы имеет данные подход? Как вы их можете решить? 
(Нельзя использовать другие технологии)

1. Медленые операции с файловой системой
2. При единовременном выполнении операции 
когда один процесс выполняет file_put_contents а другой file_get_contents
счетчик будет сбиваться

Как вы их можете решить?
Вариант1:
$filename = 'test.txt';
$source = fopen($filename, 'c+');

if (flock($source, LOCK_EX)) {
	$count = fread($source, filesize($filename)) + 1;
	fseek($source, 0);
	fwrite($source, $count);
}

fclose($source);

Вариант2
file_put_contents("./counter.txt", 1, FILE_APPEND); // По размеру файла можно узнать значение счетчика

Дополнительный вопрос: Через некоторое время нагрузка на сервер значительно выросла. Какие проблемы вы видите? Как вы их можете решить? 
Если бы вы могли выбрать другую технологию, то какую и почему?

Та же проблема со временем доступа к файлу.
Можно использовать Memcached::increment, данные хранятся в ОЗУ доступ к которым быстрее чем к файлы,
операция является атомарной.
